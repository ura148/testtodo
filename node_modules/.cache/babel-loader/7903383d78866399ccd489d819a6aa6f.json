{"remainingRequest":"/Users/uratomo/test/node_modules/babel-loader/lib/index.js!/Users/uratomo/test/node_modules/eslint-loader/index.js??ref--13-0!/Users/uratomo/test/src/router.js","dependencies":[{"path":"/Users/uratomo/test/src/router.js","mtime":1594659058723},{"path":"/Users/uratomo/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IFNpZ251cCBmcm9tICdAL2NvbXBvbmVudHMvU2lnbnVwJzsKaW1wb3J0IFNpZ25pbiBmcm9tICdAL2NvbXBvbmVudHMvU2lnbmluJzsKaW1wb3J0IENhbGVuZGFyIGZyb20gJ0AvY29tcG9uZW50cy9DYWxlbmRhcic7CmltcG9ydCBUYXNrIGZyb20gJ0AvY29tcG9uZW50cy9UYXNrLnZ1ZSc7CmltcG9ydCBmaXJlYmFzZSBmcm9tICdmaXJlYmFzZSc7ClZ1ZS51c2UoUm91dGVyKTsKdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIC8vIG1vZGU6ICdoaXN0b3J5JywKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnKicsCiAgICByZWRpcmVjdDogJ3NpZ25pbicKICB9LCB7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAndGFzaycsCiAgICBjb21wb25lbnQ6IFRhc2ssCiAgICBtZXRhOiB7CiAgICAgIHJlcXVpcmVzQXV0aDogdHJ1ZQogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvc2lnbnVwJywKICAgIG5hbWU6ICdTaWdudXAnLAogICAgY29tcG9uZW50OiBTaWdudXAKICB9LCB7CiAgICBwYXRoOiAnL3NpZ25pbicsCiAgICBuYW1lOiAnU2lnbmluJywKICAgIGNvbXBvbmVudDogU2lnbmluCiAgfSwgewogICAgcGF0aDogJy9jYWxlbmRhcicsCiAgICBuYW1lOiAnQ2FsZW5kYXInLAogICAgY29tcG9uZW50OiBDYWxlbmRhcgogIH1dCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcmVxdWlyZXNBdXRoID0gdG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0F1dGg7CiAgfSk7CgogIGlmIChyZXF1aXJlc0F1dGgpIHsKICAgIGZpcmViYXNlLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgaWYgKHVzZXIpIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4dCh7CiAgICAgICAgICBwYXRoOiAnL3NpZ25pbicsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICByZWRpcmVjdDogdG8uZnVsbFBhdGgKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/uratomo/test/src/router.js"],"names":["Vue","Router","Signup","Signin","Calendar","Task","firebase","use","router","routes","path","redirect","name","component","meta","requiresAuth","beforeEach","to","from","next","matched","some","record","auth","onAuthStateChanged","user","query","fullPath"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,QAAP,MAAqB,UAArB;AAIAN,GAAG,CAACO,GAAJ,CAAQN,MAAR;AAEA,IAAIO,MAAM,GAAI,IAAIP,MAAJ,CAAW;AACvB;AACAQ,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GADM,EAKN;AACED,IAAAA,IAAI,EAAE,GADR;AAEEE,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAER,IAHb;AAIES,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GALM,EAWN;AACEL,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAEX;AAHb,GAXM,EAgBN;AACEQ,IAAAA,IAAI,EAAE,SADR;AAEEE,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAEV;AAHb,GAhBM,EAqBN;AACEO,IAAAA,IAAI,EAAE,WADR;AAEEE,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAET;AAHb,GArBM;AAFe,CAAX,CAAd;AA+BAI,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIJ,YAAY,GAAGE,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACR,IAAP,CAAYC,YAAhB;AAAA,GAAtB,CAAnB;;AACA,MAAIA,YAAJ,EAAkB;AAChBT,IAAAA,QAAQ,CAACiB,IAAT,GAAgBC,kBAAhB,CAAmC,UAAUC,IAAV,EAAgB;AACjD,UAAIA,IAAJ,EAAU;AACRN,QAAAA,IAAI;AACL,OAFD,MAEO;AACLA,QAAAA,IAAI,CAAC;AACHT,UAAAA,IAAI,EAAE,SADH;AAEHgB,UAAAA,KAAK,EAAE;AAAEf,YAAAA,QAAQ,EAAEM,EAAE,CAACU;AAAf;AAFJ,SAAD,CAAJ;AAID;AACF,KATD;AAUD,GAXD,MAWO;AACLR,IAAAA,IAAI;AACL;AACF,CAhBD;AAkBA,eAAeX,MAAf","sourcesContent":["import Vue from 'vue'\nimport Router from 'vue-router'\nimport Signup from '@/components/Signup'\nimport Signin from '@/components/Signin'\nimport Calendar from '@/components/Calendar'\nimport Task from '@/components/Task.vue'\nimport firebase from 'firebase'\n\n\n\nVue.use(Router)\n\nlet router =  new Router({\n  // mode: 'history',\n  routes: [\n    {\n      path: '*',\n      redirect: 'signin'\n    },\n    {\n      path: '/',\n      name: 'task',\n      component: Task,\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/signup',\n      name: 'Signup',\n      component: Signup,\n    },\n    {\n      path: '/signin',\n      name: 'Signin',\n      component: Signin\n    },\n    {\n      path: '/calendar',\n      name: 'Calendar',\n      component: Calendar\n    }\n  ]\n})\n\nrouter.beforeEach((to, from, next) => {\n  let requiresAuth = to.matched.some(record => record.meta.requiresAuth)\n  if (requiresAuth) {\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        next()\n      } else {\n        next({\n          path: '/signin',\n          query: { redirect: to.fullPath }\n        })\n      }\n    })\n  } else {\n    next()\n  }\n})\n\nexport default router\n"]}]}