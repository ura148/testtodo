{"remainingRequest":"/Users/uratomo/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/uratomo/test/src/components/Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/uratomo/test/src/components/Header.vue","mtime":1594916176650},{"path":"/Users/uratomo/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlYWRlciIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBuZXdsaXN0TmFtZTogJycsCiAgICAgIHdpbmRvd1c6IHdpbmRvdy5pbm5lcldpZHRoLAogICAgICB3aW5kb3dIOiB3aW5kb3cuaW5uZXJIZWlnaHQsCiAgICAgIHNlbGVjdENhdGVnb3J5OiAnJywKICAgICAgb3B0aW9uczogWwogICAgICAgIHsgdGV4dDogJ2J1Y2tldCBsaXN0JywgdmFsdWU6ICdidWNrZXQgbGlzdCcgfSwKICAgICAgICB7IHRleHQ6ICdwcml2YXRlJywgdmFsdWU6ICdwcml2YXRlJyB9LAogICAgICAgIHsgdGV4dDogJ3JlY3J1aXQnLCB2YWx1ZTogJ3JlY3J1aXQnIH0sCiAgICAgIF0sCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7CiAgICB0aGlzLmRiID0gZmlyZWJhc2UuZGF0YWJhc2UoKTsKICAgIHRoaXMudWlkID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLnVpZDsKICAgIC8vIHJlZuOBr3JlZmVyZW5jZeOBp+ODh+ODvOOCv+ODmeODvOOCueOBq+OBguOCi+eJueWumuOBrumgheebruOCkuaMh+OBl+ekuuOBmeODoeOCveODg+ODiQogICAgdGhpcy50b2Rvc1JlZiA9IHRoaXMuZGIucmVmKCJ0b2Rvcy8iICsgdGhpcy51aWQpOwogICAgdGhpcy50ZXN0ID0gdGhpcy5kYi5yZWYoInRvZG9zLyIgKyB0aGlzLnVpZCArICIvIikKICAgIC8vIOODh+ODvOOCv+OBq+WkieabtOOBjOOBguOCi+OBqOWun+ihjOOBleOCjOOCi2Z1bmN0aW9uCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdGhpcy50b2Rvc1JlZi5vbigndmFsdWUnLCBmdW5jdGlvbihzbmFwc2hvdCkgewogICAgICBfdGhpcy50b2RvcyA9IHNuYXBzaG90LnZhbCgpOyAvLyDjg4fjg7zjgr/jgavlpInljJbjgYzotbfjgY3jgZ/jgajjgY3jgavlho3lj5blvpfjgZnjgosKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlTGlzdDogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLm5ld2xpc3ROYW1lID09ICIiKSB7IHJldHVybjsgfQogICAgICBpZiAodGhpcy5zZWxlY3RDYXRlZ29yeSA9PSAiIil7cmV0dXJuOyB9CiAgICAgIGVsc2UgIHsKICAgICAgICB0aGlzLnRvZG9zUmVmLmNoaWxkKHRoaXMuc2VsZWN0Q2F0ZWdvcnkpLnB1c2goewogICAgICAgICAgZml4TGlzdFNob3c6IGZhbHNlLAogICAgICAgICAgaGF2ZWNoaWxkcmVuOiAwLAogICAgICAgICAgbmFtZTogdGhpcy5uZXdsaXN0TmFtZSwKICAgICAgICAgIGNhdGVnb3J5OiB0aGlzLnNlbGVjdENhdGVnb3J5LAogICAgICAgICAgYWNoaWV2ZW1lbnRSYXRlOiAwLAogICAgICAgIH0pCiAgICAgIH0KICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHRoaXMubmV3bGlzdE5hbWUgPSAiIjsKICAgIH0sCiAgICBoYW5kbGVSZXNpemU6IGZ1bmN0aW9uKCkgewogICAgICAvLyByZXNpemXjga7jgZ/jgbPjgavjgZPjgYTjgaTjgYznmbrngavjgZnjgovjga7jgafjgIHjgZPjgZPjgafjgoTjgorjgZ/jgYTjgZPjgajjgpLjgoTjgosKICAgICAgdGhpcy53aW5kb3dXID0gd2luZG93LmlubmVyV2lkdGg7CiAgICAgIHRoaXMud2luZG93SCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICAgIH0sCiAgICBzaWduT3V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zaWduaW4nKQogICAgICB9KQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlUmVzaXplKQogIH0KfTsK"},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <header class=\"header\">\n    <div class=\"header-container\">\n      <h1>\n        <img src=\"../assets/title.png\" class=\"header-title\">\n      </h1>\n      <button type=\"button\" v-on:click=\"signOut()\" class=\"header-signout\">Sign out</button>\n\n      <!-- Make list button -->\n      <button type=\"button\" name=\"makelist\" v-if=\"windowW >= 1024\" @click=\"show=!show\" v-bind:class=\"{actives: show}\" class=\"header-btn header-btn__addlist\">\n        <span class=\"fa fa-list\"></span>\n      </button>\n\n      <!-- Make list contents -->\n      <div v-show=\"show\" class=\"popup\">\n        <div class=\"popup-fix__todo\">\n          <p class=\"popup-item\">List name</p>\n          <input type=\"text\" v-model=\"newlistName\" class=\"popup-input\">\n\n          <p class=\"popup-item\">Category</p>\n          <select v-model=\"selectCategory\" class=\"popup-input\">\n            <option v-for=\"option in options\" v-bind:value=\"option.value\" :key=\"option.id\">\n              {{ option.text }}\n            </option>\n          </select>\n\n          <div class=\"popup-btn-box\">\n            <button type=\"button\" @click=\"show=!show\" class=\"popup-btn popup-btn__negative popup-btn__left\">Cancel</button>\n            <button type=\"submit\" @click=\"createList()\" class=\"popup-btn popup-btn__positive\">Done</button>\n          </div>\n        </div>\n      </div>\n\n      <router-link to=\"/calendar\" v-if=\"windowW >= 1024\">\n        <button type=\"button\" v-if=\"windowW >= 1024 && $route.path == '/'\" class=\"header-btn header-btn__changemode\">\n          <span class=\"fa fa-calendar-check-o\"></span>\n        </button>\n      </router-link>\n\n      <router-link to=\"/\" v-if=\"windowW >= 1024\">\n        <button type=\"button\" v-if=\"windowW >= 1024 && $route.path == '/calendar'\" class=\"header-btn header-btn__changemode\">\n          <span class=\"fa fa-check-square\"></span>\n        </button>\n      </router-link>\n    </div>\n  </header>\n</template>\n\n<script>\nimport firebase from \"firebase\";\n\nexport default {\n  name: \"Header\",\n  data() {\n    return {\n      show: false,\n      newlistName: '',\n      windowW: window.innerWidth,\n      windowH: window.innerHeight,\n      selectCategory: '',\n      options: [\n        { text: 'bucket list', value: 'bucket list' },\n        { text: 'private', value: 'private' },\n        { text: 'recruit', value: 'recruit' },\n      ],\n    };\n  },\n  created: function() {\n    this.db = firebase.database();\n    this.uid = firebase.auth().currentUser.uid;\n    // refはreferenceでデータベースにある特定の項目を指し示すメソッド\n    this.todosRef = this.db.ref(\"todos/\" + this.uid);\n    this.test = this.db.ref(\"todos/\" + this.uid + \"/\")\n    // データに変更があると実行されるfunction\n    var _this = this;\n    this.todosRef.on('value', function(snapshot) {\n      _this.todos = snapshot.val(); // データに変化が起きたときに再取得する\n    });\n  },\n  methods: {\n    createList: function() {\n      if (this.newlistName == \"\") { return; }\n      if (this.selectCategory == \"\"){return; }\n      else  {\n        this.todosRef.child(this.selectCategory).push({\n          fixListShow: false,\n          havechildren: 0,\n          name: this.newlistName,\n          category: this.selectCategory,\n          achievementRate: 0,\n        })\n      }\n      this.show = false;\n      this.newlistName = \"\";\n    },\n    handleResize: function() {\n      // resizeのたびにこいつが発火するので、ここでやりたいことをやる\n      this.windowW = window.innerWidth;\n      this.windowH = window.innerHeight;\n    },\n    signOut: function () {\n      firebase.auth().signOut().then(() => {\n        this.$router.push('/signin')\n      })\n    }\n  },\n  mounted: function () {\n    window.addEventListener('resize', this.handleResize)\n  },\n  beforeDestroy: function () {\n    window.removeEventListener('resize', this.handleResize)\n  }\n};\n</script>\n\n<style>\n.header {\n  position: fixed;\n  z-index: 3;\n  top: 0;\n  width: 100%;\n  height: 48px;\n  background-color: #719CFC;\n}\n  .header-container {\n    align-items: center;\n  }\n  .header-title {\n    width: 160px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n  .header-signout {\n    position: absolute;\n    top: 50%;\n    right: 18px;\n    transform: translateY(-50%);\n    color: #fafafa;\n  }\n  .header-btn {\n    position: absolute;\n    padding: 4px 16px;\n    background-color: #fff;\n    border-radius: 8px;\n    font-size: 1.6rem;\n    color: #719CFC;\n    box-shadow: 0px 3px 6px rgba(0,0,0,0.4);\n  }\n    .header-btn__addlist {\n      top: 10px;\n      left: 18px;\n    }\n    .header-btn__changemode {\n      top: 10px;\n      left: 86px;\n    }\n</style>\n"]}]}