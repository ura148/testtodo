{"remainingRequest":"/Users/uratomo/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/uratomo/test/src/components/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/uratomo/test/src/components/Calendar.vue","mtime":1594124588955},{"path":"/Users/uratomo/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/uratomo/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKaW1wb3J0IFRPRE9fTElTVCBmcm9tICIuLi9kYXRhL3RvZG9MaXN0IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBtaXhpbnM6IFtUT0RPX0xJU1RdLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvTGlzdDogVE9ET19MSVNULCAvL3RvZG/jg6rjgrnjg4gKICAgICAgZGF0ZXM6IFtdLCAvL+OCq+ODrOODs+ODgOODvOOBruaXpeS7mAogICAgICBzcGFjZXM6IFtdLCAvL+OBneOBruaciOOBruacgOWIneaXpeOBjOWni+OBvuOCi+WgtOaJgAogICAgICBkYXRlTGFiZWw6ICIiLCAvL+ODleOCqeODvOODnuODg+ODiD0iMjAxOeW5tDfmnIgiCiAgICAgIHNlbGVjdGVkTW9udGg6IG51bGwsIC8v5LuK6YG45oqe44GX44Gm44GE44KL5pyICiAgICAgIHNlbGVjdGVkRGF0ZTogbnVsbCAvL+S7iumBuOaKnuOBl+OBpuOBhOOCi+aXpeS7mAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlbGVjdERhdGUoZXZlbnQpIHsKICAgICAgLy/ml6Xku5jjgpLpgbjmip7jgZnjgosKICAgICAgdGhpcy5zZWxlY3RlZERhdGUgPSBldmVudC5jdXJyZW50VGFyZ2V0LmlkOwogICAgfSwKICAgIGNoYW5nZU1vbnRoKG51bSkgewogICAgICAvL+aciOOCkuWkieabtAogICAgICBpZiAobnVtID09PSAwKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZE1vbnRoID0gbW9tZW50KHRoaXMuc2VsZWN0ZWRNb250aCkuc3VidHJhY3QoMSwgIm1vbnRocyIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRNb250aCA9IG1vbWVudCh0aGlzLnNlbGVjdGVkTW9udGgpLmFkZCgxLCAibW9udGhzIik7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL+eUu+mdouihqOekuuaZguOBq+S7iuaXpeOBruaXpeS7mOOBqOaciOOCkuioreWumuOAggogICAgdGhpcy5zZWxlY3RlZERhdGUgPSBtb21lbnQoKS5mb3JtYXQoIllZWVktTU0tREQiKTsKICAgIHRoaXMuc2VsZWN0ZWRNb250aCA9IG1vbWVudCgpOwogIH0sCiAgd2F0Y2g6IHsKICAgIHNlbGVjdGVkTW9udGg6IGZ1bmN0aW9uKCkgewogICAgICAvL+mBuOaKnuOBl+OBpuOBhOOCi+aciOOBruWkieabtOaZguOBruWHpueQhuOAgeeUu+mdouihqOekuuaZguOCguWLleOBjeOBvuOBmQogICAgICB0aGlzLmRhdGVMYWJlbCA9IG1vbWVudCh0aGlzLnNlbGVjdGVkTW9udGgpLmZvcm1hdCgiWVlZWeW5tE1N5pyIIik7IC8v5pyI44Op44OZ44Or44KS5pu05pawCiAgICAgIHRoaXMuc3BhY2VzID0gW107IC8v44K544Oa44O844K544KS5Yid5pyf5YyWCiAgICAgIGZvciAoCiAgICAgICAgbGV0IGkgPSAwOwogICAgICAgIGkgPAogICAgICAgIG1vbWVudCh0aGlzLnNlbGVjdGVkTW9udGgpCiAgICAgICAgICAuc3RhcnRPZigibW9udGgiKQogICAgICAgICAgLmRheSgpOwogICAgICAgIGkrKwogICAgICApIHsKICAgICAgICAvL+OCueODmuODvOOCueOCkuabtOaWsAogICAgICAgIHRoaXMuc3BhY2VzW2ldID0gaTsKICAgICAgfQoKICAgICAgdGhpcy5kYXRlcyA9IFtdOyAvL+OCq+ODrOODs+ODgOODvOODkeODjeODq+OCkuWIneacn+WMlgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vbWVudCh0aGlzLnNlbGVjdGVkTW9udGgpLmRheXNJbk1vbnRoKCk7IGkrKykgewogICAgICAgIC8v44Kr44Os44Oz44OA44O844OR44ON44Or44KS5pu05pawCiAgICAgICAgbGV0IHRvZG9OdW1iZXIgPSAiLSI7CiAgICAgICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyh0aGlzLnRvZG9MaXN0KSkgewogICAgICAgICAgLy90b2RvTGlzdOOBruaDheWgseOCkuOCq+ODrOODs+ODgOODvOODkeODjeODq+OBq+i/veWKoAogICAgICAgICAgaWYgKHRoaXMuZGF0ZXNbaV0pIHsKICAgICAgICAgICAgaWYgKHRoaXMudG9kb0xpc3Rba10uZGF0ZSA9PT0gdGhpcy5kYXRlc1tpXS5kYXRlKSB7CiAgICAgICAgICAgICAgdG9kb051bWJlcisrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMuZGF0ZXNbaV0gPSB7CiAgICAgICAgICBkYXRlOiBtb21lbnQodGhpcy5zZWxlY3RlZE1vbnRoKQogICAgICAgICAgICAuc3RhcnRPZigibW9udGgiKQogICAgICAgICAgICAuYWRkKGksICJkYXkiKQogICAgICAgICAgICAuZm9ybWF0KCJZWVlZLU1NLUREIiksCiAgICAgICAgICBkYXRlTnVtYmVyOiBpICsgMSwKICAgICAgICAgIHRvZG9OdW1iZXI6IHRvZG9OdW1iZXIKICAgICAgICB9OwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"calender\">\n    <div class=\"calender-component\">\n      <div class=\"calender-header\">\n        <div class=\"arrow-back\" v-on:click=\"changeMonth(0)\"></div>\n        <div class=\"current-date\">{{ dateLabel }}</div>\n        <div class=\"arrow-next\" v-on:click=\"changeMonth(1)\">></div>\n      </div>\n      <div class=\"calender-body\">\n        <ul class=\"calender-panel-list\">\n          <li class=\"calender-panel_space\" v-for=\"space in spaces\" v-bind:key=\"space.id\"></li>\n          <li\n            class=\"calender-panel\"\n            v-on:click=\"selectDate\"\n            v-for=\"date in dates\"\n            :key=\"date.date\"\n            v-bind:class=\"selectedDate === date.date ? 'selected' : ''\"\n          >\n            <div class=\"calender-date\">{{ date.dateNumber }}</div>\n            <div\n              class=\"calender-todo\"\n              v-bind:class=\"date.todoNumber !== '-' ? 'number' : ''\"\n            >{{ date.todoNumber }}</div>\n          </li>\n        </ul>\n      </div>\n      <div class=\"calender-footer\">\n        <div\n          class=\"calender-footer_todo\"\n          v-for=\"todo in todoList\"\n          v-show=\"todo.date === selectedDate\"\n          v-bind:key=\"todo.id\"\n        >\n          <div class=\"calender-footer_todo-time\">{{ todo.time }}</div>\n          <div class=\"calender-footer_todo-title\">{{ todo.title }}</div>\n          <div class=\"calender-footer_todo-description\">{{ todo.description }}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport TODO_LIST from \"../data/todoList\";\n\nexport default {\n  mixins: [TODO_LIST],\n  data() {\n    return {\n      todoList: TODO_LIST, //todoリスト\n      dates: [], //カレンダーの日付\n      spaces: [], //その月の最初日が始まる場所\n      dateLabel: \"\", //フォーマット=\"2019年7月\"\n      selectedMonth: null, //今選択している月\n      selectedDate: null //今選択している日付\n    };\n  },\n  methods: {\n    selectDate(event) {\n      //日付を選択する\n      this.selectedDate = event.currentTarget.id;\n    },\n    changeMonth(num) {\n      //月を変更\n      if (num === 0) {\n        this.selectedMonth = moment(this.selectedMonth).subtract(1, \"months\");\n      } else {\n        this.selectedMonth = moment(this.selectedMonth).add(1, \"months\");\n      }\n    }\n  },\n  created() {\n    //画面表示時に今日の日付と月を設定。\n    this.selectedDate = moment().format(\"YYYY-MM-DD\");\n    this.selectedMonth = moment();\n  },\n  watch: {\n    selectedMonth: function() {\n      //選択している月の変更時の処理、画面表示時も動きます\n      this.dateLabel = moment(this.selectedMonth).format(\"YYYY年MM月\"); //月ラベルを更新\n      this.spaces = []; //スペースを初期化\n      for (\n        let i = 0;\n        i <\n        moment(this.selectedMonth)\n          .startOf(\"month\")\n          .day();\n        i++\n      ) {\n        //スペースを更新\n        this.spaces[i] = i;\n      }\n\n      this.dates = []; //カレンダーパネルを初期化\n      for (let i = 0; i < moment(this.selectedMonth).daysInMonth(); i++) {\n        //カレンダーパネルを更新\n        let todoNumber = \"-\";\n        for (let k of Object.keys(this.todoList)) {\n          //todoListの情報をカレンダーパネルに追加\n          if (this.dates[i]) {\n            if (this.todoList[k].date === this.dates[i].date) {\n              todoNumber++;\n            }\n          }\n        }\n        this.dates[i] = {\n          date: moment(this.selectedMonth)\n            .startOf(\"month\")\n            .add(i, \"day\")\n            .format(\"YYYY-MM-DD\"),\n          dateNumber: i + 1,\n          todoNumber: todoNumber\n        };\n      }\n    }\n  }\n};\n</script>\n"]}]}