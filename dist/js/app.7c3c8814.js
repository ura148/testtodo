(function(e){function t(t){for(var s,i,r=t[0],l=t[1],u=t[2],c=0,p=[];c<r.length;c++)i=r[c],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],s=!0,r=1;r<o.length;r++){var l=o[r];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=i(i.s=o[0]))}return e}var s={},a={app:0},n=[];function i(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=s,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var d=l;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var s=o("85ec"),a=o.n(s);a.a},"24fa":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var s=o("a026"),a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("h1",[e._v("ToDo List")]),o("router-view")],1)},n=[],i=(o("034f"),o("2877")),r={},l=Object(i["a"])(r,a,n,!1,null,null,null),u=l.exports,d=(o("45fc"),o("8c4f")),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"task"},[o("h2",[e._v("タスク")]),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodoName,expression:"newTodoName"}],attrs:{type:"text"},domProps:{value:e.newTodoName},on:{input:function(t){t.target.composing||(e.newTodoName=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.deadline,expression:"deadline"}],attrs:{type:"date"},domProps:{value:e.deadline},on:{input:function(t){t.target.composing||(e.deadline=t.target.value)}}}),o("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selected=t.target.multiple?o:o[0]}}},e._l(e.options,(function(t){return o("option",{key:t.id,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0),o("button",{attrs:{type:"submit"},on:{click:function(t){return e.createTodo()}}},[e._v("リスト作成")])]),o("ul",[o("li",[o("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(t){e.showTodoType="all",e.fachievementRate()}}},[e._v("すべて")])]),o("li",[o("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(t){e.showTodoType="active",e.fachievementRate()}}},[e._v("未完タスク一覧")])]),o("li",[o("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(t){e.showTodoType="complete",e.fachievementRate()}}},[e._v("完了タスク一覧")])])]),o("p",[e._v(e._s(e.taskNumber+"個のタスク"))]),o("router-link",{attrs:{to:"/task/calendar"}},[e._v("calendar")]),o("router-link",{attrs:{to:"/task/calendar/week"}},[e._v("week")]),e._l(e.filteredTodos,(function(t,s){return o("div",{key:t.id},[o("div",{staticClass:"card"},[o("p",[e._v(e._s(s))]),e._l(t,(function(t,s){return o("div",{key:t.id,staticClass:"subcard"},[o("p",[e._v(e._s(t.name))]),o("p",[e._v(e._s(t.achievementRate+"%完了"))]),o("ul",e._l(t.subTasks,(function(a,n){return o("li",{key:a.id,staticClass:"todo"},[1==a.judge?o("input",{directives:[{name:"model",rawName:"v-model",value:a.isComplete,expression:"subtodo.isComplete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.isComplete)?e._i(a.isComplete,null)>-1:a.isComplete},on:{change:function(t){var o=a.isComplete,s=t.target,n=!!s.checked;if(Array.isArray(o)){var i=null,r=e._i(o,i);s.checked?r<0&&e.$set(a,"isComplete",o.concat([i])):r>-1&&e.$set(a,"isComplete",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(a,"isComplete",n)}}}):e._e(),1==a.judge?o("label",{on:{click:function(o){return e.updateIsCompleteTodo(s,a,t,n)}}},[e._v(e._s(a.subName))]):e._e(),1==a.judge?o("button",{attrs:{type:"submit"},on:{click:function(o){return e.deleteTodos(s,t,n)}}},[e._v("削除")]):e._e()])})),0),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newSubTodoName,expression:"newSubTodoName"}],attrs:{type:"text"},domProps:{value:e.newSubTodoName},on:{input:function(t){t.target.composing||(e.newSubTodoName=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.subDeadline,expression:"subDeadline"}],attrs:{type:"date"},domProps:{value:e.subDeadline},on:{input:function(t){t.target.composing||(e.subDeadline=t.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(o){return e.createSubTodo(t,s)}}},[e._v("サブタスク作成")])])])}))],2),o("button",{attrs:{type:"submit"},on:{click:function(t){return e.deleteLists(s)}}},[e._v("削除")])])}))],2)},p=[],m=o("8aa5"),v=o.n(m),h={name:"Task",data:function(){return{database:null,todosRef:null,newTodoName:"",newSubTodoName:"",deadline:"",subDeadline:"",showTodoType:"all",selected:"",options:[{text:"private",value:"private"},{text:"recruit",value:"recruit"},{text:"bucket list",value:"bucket list"}],todos:[]}},created:function(){this.db=v.a.database(),this.uid=v.a.auth().currentUser.uid,this.todosRef=this.db.ref("todos/"+this.uid),this.test=this.db.ref("todos/"+this.uid+"/");var e=this;this.todosRef.on("value",(function(t){e.todos=t.val()}))},computed:{filteredTodos:function(){var e=!1;for(var t in"complete"==this.showTodoType&&(e=!0),this.todos){var o=this.todos[t];for(var s in o){console.log(s);var a=o[s];for(var n in a.subTasks){var i=a.subTasks[n];console.log(i.subName),console.log(n),"all"==this.showTodoType||i.isComplete==e?i.judge=!0:i.judge=!1}}}return this.todos},taskNumber:function(){var e=!1,t=0,o=0;for(var s in"complete"==this.showTodoType&&(e=!0),this.todos){var a=this.todos[s];for(var n in a){var i=a[n];for(var r in i.subTasks){var l=i.subTasks[r];console.log(l),t+=1,"all"==this.showTodoType?console.log(""):l.isComplete==e&&(o+=1)}}}return"all"==this.showTodoType?t:o}},methods:{createTodo:function(){""!=this.newTodoName&&""!=this.selected&&(this.todosRef.child(this.selected).push({name:this.newTodoName,date:this.deadline,category:this.selected,achievementRate:0}),this.newTodoName="")},createSubTodo:function(e,t){console.log(e.category),""!=this.newSubTodoName&&("private"==e.category||e.category,this.todosRef.child(e.category).child(t).child("/subTasks").push({subName:this.newSubTodoName,isComplete:!1,subDate:this.subDeadline,judge:!1}),this.newSubTodoName="")},updateIsCompleteTodo:function(e,t,o,s){t.isComplete=!t.isComplete;var a={};a[s]=t,console.log(o),this.todosRef.child(o.category).child(e).child("/subTasks").update(a)},deleteLists:function(e){this.todosRef.child(e).remove()},deleteTodos:function(e,t,o){this.todosRef.child(t.category).child(e).child("/subTasks").child(o).remove()},fachievementRate:function(){for(var e in this.todos){var t=this.todos[e];for(var o in t){var s=t[o],a=0,n=0;for(var i in s.subTasks){var r=s.subTasks[i];console.log(r),n+=1,1==r.isComplete&&(a+=1),s.achievementRate=a/n*100}}}}}},f=h,b=(o("fcc1"),Object(i["a"])(f,c,p,!1,null,null,null)),g=b.exports,T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"signup"},[o("h2",[e._v("サインアップ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("button",{on:{click:e.signUp}},[e._v("登録")]),o("p",[e._v(" アカウントをすでにお持ちの方 "),o("router-link",{attrs:{to:"/signin"}},[e._v("sign in now")])],1)])},y=[],w={name:"Singup",data:function(){return{email:"",password:""}},methods:{signUp:function(){v.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(e){alert("Create account: "+e.user.email)})).then((function(e){alert("Create account: "+e.user.email)})).catch((function(e){alert(e.message)}))}}},k=w,_=Object(i["a"])(k,T,y,!1,null,null,null),C=_.exports,N=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"signin"}},[o("h2",[e._v("サインイン")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),o("button",{on:{click:e.signIn}},[e._v("Signin")]),o("button",{on:{click:e.signInWithGoogle}},[e._v("Googleアカウントでサインイン")]),o("p",[e._v(" アカウントをお持ちではない方 "),o("router-link",{attrs:{to:"/signup"}},[e._v("新規作成")])],1)])},x=[],R={name:"Signin",data:function(){return{email:"",password:""}},methods:{signIn:function(){var e=this;v.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(t){alert("success : "+t.user.email),e.$router.push("/task")})).catch((function(e){alert(e.message)}))},signInWithGoogle:function(){var e=this,t=new v.a.auth.GoogleAuthProvider;v.a.auth().signInWithPopup(t).then((function(t){alert("success : "+t.user.email),e.$router.push("/task")})).catch((function(e){alert(e.message)}))}}},D=R,S=Object(i["a"])(D,N,x,!1,null,null,null),j=S.exports,P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h2",[e._v("Today's ToDo")]),o("router-link",{attrs:{to:"/task"}},[e._v("task")]),e._l(e.filteredTodos,(function(t,s){return o("div",{key:t.id},[o("div",{staticClass:"card"},[o("p",[e._v(e._s(s))]),e._l(t,(function(t,s){return o("div",{key:t.id,staticClass:"subcard"},[o("p",[e._v(e._s(t.name))]),o("p",[e._v(e._s(t.achievementRate+"%完了"))]),o("ul",e._l(t.subTasks,(function(a,n){return o("li",{key:a.id,staticClass:"todo"},[a.subDate==e.eyey()?o("input",{directives:[{name:"model",rawName:"v-model",value:a.isComplete,expression:"subtodo.isComplete"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.isComplete)?e._i(a.isComplete,null)>-1:a.isComplete},on:{change:function(t){var o=a.isComplete,s=t.target,n=!!s.checked;if(Array.isArray(o)){var i=null,r=e._i(o,i);s.checked?r<0&&e.$set(a,"isComplete",o.concat([i])):r>-1&&e.$set(a,"isComplete",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(a,"isComplete",n)}}}):e._e(),a.subDate==e.eyey()?o("label",{on:{click:function(o){return e.updateIsCompleteTodo(s,a,t,n)}}},[e._v(e._s(a.subName))]):e._e(),a.subDate==e.eyey()?o("button",{attrs:{type:"submit"},on:{click:function(o){return e.deleteTodos(s,t,n)}}},[e._v("削除")]):e._e()])})),0),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newSubTodoName,expression:"newSubTodoName"}],attrs:{type:"text"},domProps:{value:e.newSubTodoName},on:{input:function(t){t.target.composing||(e.newSubTodoName=t.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.subDeadline,expression:"subDeadline"}],attrs:{type:"date"},domProps:{value:e.subDeadline},on:{input:function(t){t.target.composing||(e.subDeadline=t.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(o){return e.createSubTodo(t,s)}}},[e._v("サブタスク作成")])])])}))],2),o("button",{attrs:{type:"submit"},on:{click:function(t){return e.deleteLists(s)}}},[e._v("削除")])])}))],2)},O=[],A=(o("7db0"),o("fb6a"),{name:"calendar",data:function(){return{database:null,todosRef:null,newTodoName:"",newSubTodoName:"",deadline:"",subDeadline:"",showTodoType:"all",selected:"",options:[{text:"private",value:"private"},{text:"recruit",value:"recruit"},{text:"bucket list",value:"bucket list"}],todos:[],dateList:[{ymd:"20190923",contents:["髪を切る","面談","靴を買う"]},{ymd:"20190914",contents:["結婚式"]},{ymd:"20190901",contents:["妹の誕生日"]},{ymd:"20190817",contents:["海に行く！","野球の練習"]}]}},created:function(){this.db=v.a.database(),this.uid=v.a.auth().currentUser.uid,this.todosRef=this.db.ref("todos/"+this.uid),this.test=this.db.ref("todos/"+this.uid+"/");var e=this;this.todosRef.on("value",(function(t){e.todos=t.val()}))},computed:{ey:function(){var e=new Date;e.setDate(e.getDate());var t=e.getFullYear(),o=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2);console.log(t+"-"+o+"-"+s);var a={};for(var n in this.todos){var i=this.todos[n];for(var r in i){var l=i[r];for(var u in l.subTasks){var d=l.subTasks[u];console.log(d),a[u]=d}}}return console.log(a),a},filteredTodos:function(){var e=!1;for(var t in"complete"==this.showTodoType&&(e=!0),this.todos){var o=this.todos[t];for(var s in o){console.log(s);var a=o[s];for(var n in a.subTasks){var i=a.subTasks[n];console.log(i.subName),console.log(n),"all"==this.showTodoType||i.isComplete==e?i.judge=!0:i.judge=!1}}}return this.todos}},methods:{dateToYYYYMMDD:function(e){var t=e.getFullYear(),o=("00"+(e.getMonth()+1)).slice(-2),s=("00"+e.getDate()).slice(-2),a=t+""+o+s;return a},getContentFromKey:function(e){var t=this.dateList.find((function(t){return t.ymd===e}));return t.contents},eyey:function(){var e=new Date;e.setDate(e.getDate());var t=e.getFullYear(),o=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2),a=t+"-"+o+"-"+s;return console.log(a),a},deleteTodos:function(e,t,o){this.todosRef.child(t.category).child(e).child("/subTasks").child(o).remove()},updateIsCompleteTodo:function(e,t,o,s){t.isComplete=!t.isComplete;var a={};a[s]=t,console.log(o),this.todosRef.child(o.category).child(e).child("/subTasks").update(a)}}}),$=A,I=(o("9c3d"),Object(i["a"])($,P,O,!1,null,"4371c5d6",null)),E=I.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},M=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"task"},[o("h2",[e._v("Week Todos")])])}],W={name:"Week",data:function(){return{database:null,todosRef:null,newTodoName:"",newSubTodoName:"",deadline:"",subDeadline:"",showTodoType:"all",selected:"",options:[{text:"private",value:"private"},{text:"recruit",value:"recruit"},{text:"bucket list",value:"bucket list"}],todos:[]}},created:function(){this.db=v.a.database(),this.uid=v.a.auth().currentUser.uid,this.todosRef=this.db.ref("todos/"+this.uid),this.test=this.db.ref("todos/"+this.uid+"/");var e=this;this.todosRef.on("value",(function(t){e.todos=t.val()}))},computed:{filteredTodos:function(){var e=!1;for(var t in"complete"==this.showTodoType&&(e=!0),this.todos){var o=this.todos[t];for(var s in o){console.log(s);var a=o[s];for(var n in a.subTasks){var i=a.subTasks[n];console.log(i.subName),console.log(n),"all"==this.showTodoType||i.isComplete==e?i.judge=!0:i.judge=!1}}}return this.todos},taskNumber:function(){var e=!1,t=0,o=0;for(var s in"complete"==this.showTodoType&&(e=!0),this.todos){var a=this.todos[s];for(var n in a){var i=a[n];for(var r in i.subTasks){var l=i.subTasks[r];console.log(l),t+=1,"all"==this.showTodoType?console.log(""):l.isComplete==e&&(o+=1)}}}return"all"==this.showTodoType?t:o}},methods:{createTodo:function(){""!=this.newTodoName&&""!=this.selected&&(this.todosRef.child(this.selected).push({name:this.newTodoName,date:this.deadline,category:this.selected,achievementRate:0}),this.newTodoName="")},createSubTodo:function(e,t){console.log(e.category),""!=this.newSubTodoName&&("private"==e.category||e.category,this.todosRef.child(e.category).child(t).child("/subTasks").push({subName:this.newSubTodoName,isComplete:!1,subDate:this.subDeadline,judge:!1}),this.newSubTodoName="")},updateIsCompleteTodo:function(e,t,o,s){t.isComplete=!t.isComplete;var a={};a[s]=t,console.log(o),this.todosRef.child(o.category).child(e).child("/subTasks").update(a)},deleteLists:function(e){this.todosRef.child(e).remove()},deleteTodos:function(e,t,o){this.todosRef.child(t.category).child(e).child("/subTasks").child(o).remove()},fachievementRate:function(){for(var e in this.todos){var t=this.todos[e];for(var o in t){var s=t[o],a=0,n=0;for(var i in s.subTasks){var r=s.subTasks[i];console.log(r),n+=1,1==r.isComplete&&(a+=1),s.achievementRate=a/n*100}}}}}},U=W,Y=(o("932c"),Object(i["a"])(U,L,M,!1,null,null,null)),q=Y.exports;s["default"].use(d["a"]);var F=new d["a"]({mode:"history",routes:[{path:"*",redirect:"signin"},{path:"/task",name:"task",component:g,meta:{requiresAuth:!0}},{path:"/signup",name:"Signup",component:C},{path:"/signin",name:"Signin",component:j},{path:"/task/calendar",name:"Calendar",component:E},{path:"/task/calendar/week",name:"Week",component:q}]});F.beforeEach((function(e,t,o){var s=e.matched.some((function(e){return e.meta.requiresAuth})),a=v.a.auth().currentUser;s?a?o():o({path:"/signin",query:{redirect:e.fullPath}}):o()}));var G=F,K=o("5887"),z=o.n(K);s["default"].use(z.a),s["default"].config.productionTip=!1;var B={apiKey:"AIzaSyBygb6LLmXowyMtZKRg2xayq876DWndPgQ",authDomain:"todo-list-test-da4c0.firebaseapp.com",databaseURL:"https://todo-list-test-da4c0.firebaseio.com",projectId:"todo-list-test-da4c0",storageBucket:"todo-list-test-da4c0.appspot.com",messagingSenderId:"829377406062",appId:"1:829377406062:web:563fe9e5c476dac3d1327f"};v.a.initializeApp(B),new s["default"]({router:G,render:function(e){return e(u)}}).$mount("#app")},"85ec":function(e,t,o){},"932c":function(e,t,o){"use strict";var s=o("e956"),a=o.n(s);a.a},"9c3d":function(e,t,o){"use strict";var s=o("f80a"),a=o.n(s);a.a},e956:function(e,t,o){},f80a:function(e,t,o){},fcc1:function(e,t,o){"use strict";var s=o("24fa"),a=o.n(s);a.a}});
//# sourceMappingURL=app.7c3c8814.js.map